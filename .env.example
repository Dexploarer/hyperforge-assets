# Asset-Forge CDN Environment Configuration
# Copy this file to .env and update with your values

# ============================================
# SERVER CONFIGURATION
# ============================================

# Port to run the CDN server on
# Default: 3005
PORT=3005

# Data directory for asset storage
# In production (Railway), use /data for persistent volume
# Default: current working directory
# DATA_DIR=/data
DATA_DIR=.

# Node environment (development | production)
# Affects security headers, HSTS, error messages
NODE_ENV=development

# ============================================
# SECURITY & AUTHENTICATION
# ============================================

# API key for upload authentication
# Generate a secure key with: bun -e "console.log(require('crypto').randomBytes(32).toString('base64url'))"
# Leave empty to disable authentication (NOT recommended for production)
# Usage: Authorization: Bearer YOUR_KEY or X-API-Key: YOUR_KEY
CDN_API_KEY=

# Example secure key (DO NOT use this in production):
# CDN_API_KEY=abcd1234efgh5678ijkl9012mnop3456qrst7890uvwx1234yzab5678cdef9012

# ============================================
# CORS CONFIGURATION
# ============================================

# Allowed CORS origins (comma-separated or * for all)
# Examples:
#   Single origin: https://yourgame.com
#   Multiple origins: https://yourgame.com,https://admin.yourgame.com
#   All origins (development only): *
# Default: * (all origins)
CORS_ORIGIN=*

# Production example:
# CORS_ORIGIN=https://yourgame.com

# ============================================
# RATE LIMITING
# ============================================
# Rate limits are configured in code but can be overridden here if needed

# Upload rate limit (requests per hour per client)
# Default: 10
# UPLOAD_RATE_LIMIT=10

# API rate limit (requests per minute per client)
# Default: 100
# API_RATE_LIMIT=100

# Static file rate limit (requests per minute per client)
# Default: 1000
# STATIC_RATE_LIMIT=1000

# ============================================
# CACHING CONFIGURATION
# ============================================

# Cache max-age for static files (in seconds)
# Default: 31536000 (1 year)
# CACHE_MAX_AGE=31536000

# ============================================
# DEPLOYMENT (Railway specific)
# ============================================

# Railway automatically provides these:
# - PORT (from Railway)
# - RAILWAY_ENVIRONMENT
# - RAILWAY_SERVICE_NAME

# Mount volume at /data for persistent storage
# Configure in Railway dashboard: Settings > Volumes > Add Volume
#   Mount path: /data
#   Size: 10GB (or as needed)

# ============================================
# MONITORING & LOGGING
# ============================================

# Log level (debug | info | warn | error)
# Default: info
# LOG_LEVEL=info

# Enable request logging
# Default: true in development, false in production
# ENABLE_REQUEST_LOGGING=true

# ============================================
# ADVANCED CONFIGURATION
# ============================================

# Maximum request body size (in bytes)
# Default: 104857600 (100MB)
# MAX_BODY_SIZE=104857600

# Enable/disable Brotli compression
# Default: true
# ENABLE_BROTLI=true

# Enable/disable Gzip compression
# Default: true
# ENABLE_GZIP=true

# Compression minimum size (in bytes)
# Default: 1024 (1KB)
# COMPRESSION_MIN_SIZE=1024

# ============================================
# NOTES
# ============================================
#
# 1. NEVER commit .env to version control
# 2. Always use strong, randomly generated API keys in production
# 3. Set CDN_API_KEY to secure uploads from unauthorized access
# 4. Use specific CORS_ORIGIN in production (not *)
# 5. Adjust rate limits based on your traffic patterns
# 6. For Railway deployment, create a volume mounted at /data
# 7. Monitor disk usage and implement cleanup policies for old assets
